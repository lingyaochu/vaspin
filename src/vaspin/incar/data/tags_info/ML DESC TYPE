{{DISPLAYTITLE:ML_DESC_TYPE}}
{{TAGDEF|ML_DESC_TYPE|[integer]|0}}

Description: Selects the descriptor type of the three-body descriptor used in machine learning force fields.
----
{{TAG|ML_DESC_TYPE}} selects how the three-body descriptor is calculated, and the following options are available:
*{{TAGO|ML_DESC_TYPE|0}}: [[#Standard three-body descriptor|Standard three-body descriptor]], where the number of descriptors in the calculation scales quadratically with the number of elements.
*{{TAGO|ML_DESC_TYPE|1}}: [[#Element-reduced descriptor|Element-reduced descriptor]] for which the number of descriptors is linearly scaling with respect to the number of chemical species.
{{NB|mind|This tag is only available as of VASP 6.4.3 or higher.}}
{{NB|mind|{{TAG|ML_DESC_TYPE}} is available for all options of {{TAG|ML_MODE}} for VASP >{{=}} 6.5.0. For VASP < 6.5.0, it was only available for {{TAGO|ML_MODE|refit}} and {{TAGO|ML_MODE|run}}.}}

== Standard three-body descriptor==

The standard three-body descriptor ({{TAG|ML_DESC_TYPE}}=0) without self-interaction corrections for the <math>i</math>th atom looks like the following

<math>
p_{n\nu l}^{iJJ'}=\sqrt{\frac{8\pi^{2}}{2l+1}} \sum\limits_{m=-l}^{l} c_{nlm}^{iJ} c_{\nu lm}^{iJ'}.
</math>

Here <math>n</math>/<math>\nu</math>, <math>l</math> and <math>m</math> are radial, angular, and magnetic quantum numbers, respectively. <math>J</math> and <math>J'</math> are indices for the element types. Both indices go over all elements in the structure. So one can see that the number of three-body descriptors grows quadratically with the number of element types.

== Element-reduced descriptor ==

Another type of descriptor ({{TAG|ML_DESC_TYPE}}=1) which was proposed in Ref. {{cite|csanyi:npj:2022}} applies a reduction of one of the intermediate coefficients <math>c_{nlm}</math> and is written as

<math>
p_{n\nu l}^{iJ}=\sqrt{\frac{8\pi^{2}}{2l+1}} \sum\limits_{m=-l}^{l}  c_{nlm}^{iJ} \sum\limits_{J'}c_{\nu lm}^{iJ'}.
</math>

In contrast to the standard three-body descriptor <math>p_{n\nu l}^{iJ}</math> depends only linearly on the number of chemical species, since summing over <math>J'</math> for <math>c_{\nu lm}^{iJ'}</math> is equivalent to having element agnostic intermediate coefficients. When using this descriptor everything up to the calculation of the descriptors takes the same time to calculate as for the standard descriptor, but everything that comes after that, such as e.g. kernels and forces, scales linearly with respect to the number of chemical species. Hence the factor that is gained in computational efficiency is less than the number of chemical species but the factor increases with an increasing number of local reference configurations employed in the calculations. The improved computational efficiency comes at the price of decreased accuracy. The accuracy loss is system-dependent and is typically around 5 to 20 percent.

== Additional sparsification ==

All descriptors can be further combined with [[Machine learning force field: Theory#Sparsification of angular descriptors|descriptor sparsification]]   ({{TAG|ML_LSPARSDES}}='''.TRUE.'''). Generally, the sparsification of descriptors results in a trade-off between accuracy and efficiency. The fraction of descriptors that is kept is specified by {{TAG|ML_RDES_SPARSDES}}. We advise the user to adjust this parameter carefully and test it individually for each system. However, we have experienced the following trends for our test cases: For {{TAG|ML_DESC_TYPE}}=0 a descriptor sparsification of 50 percent {{TAG|ML_RDES_SPARSDES}}=0.5 leaves the accuracy almost untouched. Since {{TAG|ML_DESC_TYPE}}=1 contains already much fewer descriptors than {{TAG|ML_DESC_TYPE}}=0, a 50 percent sparsification for {{TAG|ML_DESC_TYPE}}=1 results in noticeable accuracy loss (additionally to the 5 to 20 percent by the descriptor itself).

== Related tags and articles ==
{{TAG|ML_LMLFF}}, {{TAG|ML_MODE}}, {{TAG|ML_LSPARSDES}}, {{TAG|ML_RDES_SPARSDES}}

{{sc|ML_IALGO_LINREG|Examples|Examples that use this tag}}

== References ==
<references/>

<noinclude>
----

[[Category:INCAR tag]][[Category:Machine-learned force fields]]
