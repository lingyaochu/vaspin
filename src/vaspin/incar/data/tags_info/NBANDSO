{{TAGDEF|NBANDSO|[integer]}}
{{DEF|NBANDSO|number of occupied orbitals|}}
Description: {{TAG|NBANDSO}} determines how many occupied orbitals are included in the Casida/[[BSE calculations]] or time propagation ({{TAG|ALGO}}=TIMEEV.

----
For the time-propagation algorithm increasing {{TAG|NBANDSO}} only modestly increases the compute time.
For BSE and Casida-type calculations, the compute time  grows with the third power of the number of included occupied and unoccupied bands

<math> (N_{\mathrm{occ}} N_{\mathrm{virtual}} N_{\mathrm{k}})^{3} </math>

and the memory requirements increase quadratically

<math> (N_{\mathrm{occ}}N_{\mathrm{virtual}} N_{\mathrm{k}})^{2} </math>

Please be aware that symmetry is not exploited in the BSE code, hence memory requirements can be excessive. To allow for calculations on large systems, the BSE code distributes the BSE matrix among all available cores and uses ScaLAPACK for the diagonalization.

VASP always uses the orbitals closest to the Fermi-level, and {{TAG|NBANDSO}} (<math>N_{\mathrm{occ}}</math>) and {{TAG|NBANDSV}} (<math>N_{\mathrm{virtual}}</math>) determines how many occupied and unoccupied orbitals are included. The defaults are fairly "conservative" and equal the total number of electrons/2 (this usually implies that all occupied states are included). For highly accurate results, {{TAG|NBANDSV}} often needs to be increased, whereas for large systems one is often forced to reduce both values to much smaller numbers. Sometimes qualitative results for bandlike  Wannier-Mott excitons can be obtained even with a single conduction and valence band.

== Related tags and articles ==
{{TAG|NBANDSV}},
[[BSE calculations]],
[[Timepropagation]]

{{sc|NBANDSO|Examples|Examples that use this tag}}
----

[[Category:INCAR tag]][[Category:Many-body perturbation theory]][[Category:Bethe-Salpeter equations]]
